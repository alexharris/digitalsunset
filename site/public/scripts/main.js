"use strict";function testSomeShit(){console.log("Gradient Size: "+gradientSize),console.log("Handle Array: "+handleArray),console.log("Colors: "+colors),console.log("Current colorstop values: "+currentColorStopValues)}function hex(a){return("0"+parseInt(a).toString(16)).slice(-2)}function addHandle(){$(".add-new").click(function(){createColorStopHandle(gradientSize),colors.push("000000"),addSliderSwatch(),colorHandles()})}function addSliderSwatch(){$(".ui-slider-handle").each(function(){0===$(this).children().length&&$(this).append('<div class="ui-slider-swatch"></div>')}),addNewColor()}function createColorStopHandle(a){var b=a;handleArray.push(b),initSlider()}function updateAfterArrayChanges(){currentColorStopValues=[],updateColorStopArray(),createGradient(colors)}function initSlider(){$(".slider").slider({orientation:"vertical",range:[0,gradientSize],values:handleArray,stop:function(){updateAfterArrayChanges()}})}function addNewColor(){$(".ui-slider-swatch").click(function(){$(".ui-slider-swatch").removeClass("current-swatch"),$(".modal-picker").modal(),$(this).addClass("current-swatch");var a=$(this).css("background-color");$(".ui-slider-handle").length<=2?$(".remove-color").hide():$(".remove-color").show(),callPicker(a)})}function removeColor(){$(".remove-color").click(function(){$(".ui-slider-handle").each(function(a){1===$(this).children(".current-swatch").length&&(handleArray.splice(a,1),colors.splice(a,1),$(this).remove())}),initSlider(),updateAfterArrayChanges()})}function updateColorStopArray(){$(".ui-slider-handle").each(function(){var a=$(this).position(),b=a.top;b+=$(this).height(),0>b&&(b=0),currentColorStopValues.push(b)})}function callPicker(a){var b=$(".modal-swatch");$(".minicolors-input").minicolors({theme:"digitalSunset",defaultValue:"",inline:!0,change:function(a){b.css("background-color",a)}}),$(".minicolors-input").minicolors("value",[a])}function modalColorOk(){$(".modal-color-ok").click(function(){var a=$(".modal-swatch").css("background-color");$(".ui-slider-swatch.current-swatch").css("background-color",a),$(".ui-slider-swatch.current-swatch").removeClass("current-swatch"),updateColorArray()})}function updateColorArray(){colors=[];$(".ui-slider-swatch").each(function(){var a=$(this).css("backgroundColor");colors.push(a)}),createGradient(colors)}function createGradient(a){var b=document.getElementById("gradient"),c=b.getContext("2d"),d=c.createLinearGradient(0,0,0,gradientSize);if(!(a.length<=1)){{var e;a.length-1}for(e=0;e<a.length;++e)d.addColorStop(currentColorStopValues[e]/gradientSize,a[e]);c.fillStyle=d,c.fillRect(0,0,gradientSize,gradientSize)}}function saveCanvas(){$(".save-button").click(function(){var a=document.getElementById("gradient"),b=a.toDataURL("image/png");$(".modal-save .modal-body .img").replaceWith('<img class="img" src="'+b+'"/></div>'),$(".modal-save").modal()})}function startGradient(){$(".start-gradient").click(function(){$(this).hide(),$(".sunset-maker").show()})}function questionBox(){$(".question").click(function(){$(".question-box").slideToggle()}),$(".question-box-close").click(function(){$(".question-box").slideToggle()})}function intialHandleLoad(){createColorStopHandle(0),createColorStopHandle(gradientSize)}function colorHandles(){$(".ui-slider-swatch").each(function(a){$(this).css("background","#"+colors[a])})}var gradientSize=200,handleArray=[],colors=["fbb85d","ed257b"],currentColorStopValues=[gradientSize,0],bg;$.cssHooks.backgroundColor={get:function(a){return a.currentStyle?bg=a.currentStyle.backgroundColor:window.getComputedStyle&&(bg=document.defaultView.getComputedStyle(a,null).getPropertyValue("background-color")),-1===bg.search("rgb")?bg:(bg=bg.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+hex(bg[1])+hex(bg[2])+hex(bg[3]))}},$(document).ready(function(){addHandle(),createGradient(colors),intialHandleLoad(),addSliderSwatch(),addNewColor(),colorHandles(),modalColorOk(),saveCanvas(),removeColor(),startGradient(),questionBox()});