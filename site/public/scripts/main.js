"use strict";function testSomeShit(){console.log("Gradient Size: "+gradientSize),console.log("Handle Array: "+handleArray),console.log("Colors: "+colors),console.log("Current colorstop values: "+currentColorStopValues)}function hex(a){return("0"+parseInt(a).toString(16)).slice(-2)}function addHandle(){$(".add-new").click(function(){createColorStopHandle(gradientSize/2),colors.push("000000"),addSliderSwatch(),colorHandles(),updateAfterArrayChanges()})}function addSliderSwatch(){$(".ui-slider-handle").each(function(){0===$(this).children().length&&$(this).append('<div class="inner-handle icon-double-arrow"></div><div class="ui-slider-swatch"></div>')}),addNewColor()}function createColorStopHandle(a){var b=a/2;handleArray.push(b),initSlider()}function updateAfterArrayChanges(){currentColorStopValues=[],updateColorStopArray(),createGradient(colors)}function initSlider(){$(".slider").slider({orientation:"vertical",range:[0,gradientSize],values:handleArray,start:function(){appTooltips("hide-handle")},stop:function(){updateAfterArrayChanges()}})}function addNewColor(){$(".ui-slider-swatch").click(function(){$(".ui-slider-swatch").removeClass("current-swatch"),$(".modal-picker").modal(),$(this).addClass("current-swatch");var a=$(this).css("background-color");$(".ui-slider-handle").length<=2?$(".remove-color").hide():$(".remove-color").show(),callPicker(a),appTooltips("hide-swatch")})}function removeColor(){$(".remove-color").click(function(){$(".ui-slider-handle").each(function(a){1===$(this).children(".current-swatch").length&&(handleArray.splice(a,1),colors.splice(a,1),$(this).remove())}),initSlider(),updateAfterArrayChanges()})}function updateColorStopArray(){$(".ui-slider-handle").each(function(){var a=$(this).position(),b=a.top;b+=$(this).height(),0>b&&(b=0),currentColorStopValues.push(b)})}function callPicker(a){var b=$(".modal-swatch");$(".minicolors-input").minicolors({theme:"digitalSunset",defaultValue:"",inline:!0,change:function(a){b.css("background-color",a)}}),$(".minicolors-input").minicolors("value",[a])}function modalColorOk(){$(".modal-color-ok").click(function(){var a=$(".modal-swatch").css("background-color");$(".ui-slider-swatch.current-swatch").css("background-color",a),$(".ui-slider-swatch.current-swatch").removeClass("current-swatch"),updateColorArray()})}function updateColorArray(){colors=[];$(".ui-slider-swatch").each(function(){var a=$(this).css("backgroundColor");colors.push(a)}),createGradient(colors)}function createGradient(a){var b=document.getElementById("gradient");if(b){var c=b.getContext("2d"),d=c.createLinearGradient(0,0,0,gradientSize);if(a.length<=1)return;{var e;a.length-1}for(e=0;e<a.length;++e)d.addColorStop(currentColorStopValues[e]/gradientSize,a[e]);c.fillStyle=d,c.fillRect(0,0,gradientSize,gradientSize)}}function saveCanvas(){$(".save-button").click(function(){var a=document.getElementById("gradient"),b=a.toDataURL("image/png");$(".modal-save .modal-body .img").replaceWith('<img class="img" src="'+b+'"/></div>'),$(".modal-save").modal();var c=$("#form-gradient")[0];c.value=b})}function startGradient(){$(".start-gradient").click(function(){$(this).hide(),$(".sunset-maker").show(),appTooltips("show")})}function questionBox(){$(".question").click(function(){$(".question-box").slideToggle()}),$(".question-box-close").click(function(){$(".question-box").slideToggle()})}function intialHandleLoad(){createColorStopHandle(0),createColorStopHandle(gradientSize)}function colorHandles(){$(".ui-slider-swatch").each(function(a){$(this).css("background","#"+colors[a])})}function randomQuestion(){return mainQuestionArray[Math.floor(Math.random()*mainQuestionArray.length)]}function initDesktopQuestionPopover(a){$(".desktop-question").popover({placement:"top auto",trigger:"manual",container:"body",content:a})}function desktopQuestionPopover(){$desktopQuestionPopover.on("click",function(a){$(".popover").is(":visible")||(a.stopPropagation(),initDesktopQuestionPopover(randomQuestion()),$desktopQuestionPopover.popover("show"),$(document).one("click.initializedPopover",function(){$desktopQuestionPopover.popover("hide")}),$desktopQuestionPopover.one("hidden.bs.popover",function(){$desktopQuestionPopover.popover("destroy"),initDesktopQuestionPopover(randomQuestion())}))})}function infoModal(){$(".info-button").click(function(){$(".modal-info").modal()})}function appTooltips(a){switch($(".ui-slider-handle:last-of-type").tooltip({placement:"bottom",title:"Drag these sliders to make your colors big or small",trigger:"manual"}),$(".ui-slider-swatch").tooltip({placement:"left",title:"Choose your colors here",trigger:"manual"}),a){case"show":$(".ui-slider-handle:last-of-type").tooltip("show"),$(".ui-slider-handle:first-of-type .ui-slider-swatch").tooltip("show");break;case"hide-handle":$(".ui-slider-handle").tooltip("hide");break;case"hide-swatch":$(".ui-slider-handle .ui-slider-swatch").tooltip("hide");break;default:console.log("default")}}function back2Top(){$(document).scroll(function(){scrollTop=$(window).scrollTop(),elementOffset=$(".container").offset().top,distance=elementOffset-scrollTop,-300>distance?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut("fast")}),$(".back-to-top").click(function(){$(window).scrollTop(0)})}var gradientSize=200,handleArray=[],colors=["fbb85d","ed257b"],currentColorStopValues=[gradientSize,0],bg;$.cssHooks.backgroundColor={get:function(a){return a.currentStyle?bg=a.currentStyle.backgroundColor:window.getComputedStyle&&(bg=document.defaultView.getComputedStyle(a,null).getPropertyValue("background-color")),-1===bg.search("rgb")?bg:(bg=bg.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+hex(bg[1])+hex(bg[2])+hex(bg[3]))}};var mainQuestionArray=["Gradient appreciation or gradientappropriation?","What is worth looking at? What is worth looking at on the internet?","Can you hold the magic of the sky in a tiny computer?","If a sunset is fleeting, what is a png?","Pollution or atmosphere?","How long can you look at the sunset?","If photographs are experience captured, then what is a picture of the sunset on your Instagram?","Something exists, it must. The crimson-gold, the violet-fuchsia, it is real.","Is this a souvenir or a note? A reflection or a snapshot?","Gotta catch 'em all.","Is this a photograph?","Is it worth looking at your phone instead of the sunset?","How chronic is your voyeurism?","If a photograph freezes a moment, what does a digital gradient do?","If you look at the sunset, will it hurt your corneas? Will it hurt your psyche?"],$desktopQuestionPopover=$(".desktop-question"),question,scrollTop,elementOffset,distance;$(document).ready(function(){addHandle(),createGradient(colors),intialHandleLoad(),addSliderSwatch(),addNewColor(),colorHandles(),modalColorOk(),saveCanvas(),removeColor(),startGradient(),desktopQuestionPopover(),infoModal(),back2Top()});